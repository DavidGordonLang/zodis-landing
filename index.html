<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Žodis – Learn Lithuanian the way it’s really spoken</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Žodis helps you say what you actually mean in Lithuanian — with tailored translations, native audio, and a cross-device phrasebook you build as you go." />
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              primary: '#25C26E',
              secondary: '#1FAF63',
              text: '#4ADE80',
              accent: '#21C985'
            }
          }
        }
      }
    }
  </script>

  <style>
    @keyframes pulse-slow {
      0%, 100% { opacity: 0.35; }
      50% { opacity: 0.5; }
    }
    .animate-pulse-slow { animation: pulse-slow 6s ease-in-out infinite; }
    .phone-frame { aspect-ratio: 9 / 19.5; }
    .hide-scrollbar::-webkit-scrollbar { width: 0; height: 0; }
    .hide-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }

    /* -----------------------------
       Background Logo Parallax Layer
       ----------------------------- */
    .bg-logo-wrap {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    /* Huge logo, mild blur, low opacity */
    .bg-logo {
      position: absolute;
      left: 50%;
      top: 60vh;
      width: min(2400px, 160vw);
      height: auto;
      transform: translate(-50%, -50%);
      opacity: 0.26;
      filter: blur(10px);
      will-change: transform;
    }

    /* Subtle green glow behind it */
    .bg-logo-glow {
      position: absolute;
      left: 50%;
      top: 60vh;
      width: min(2800px, 185vw);
      height: min(2800px, 185vw);
      transform: translate(-50%, -50%);
      background: radial-gradient(circle at center, rgba(37,194,110,0.26), transparent 62%);
      filter: blur(48px);
      opacity: 0.55;
      will-change: transform;
    }

    /* Ensure content is above the background */
    .site-layer {
      position: relative;
      z-index: 10;
    }
  </style>
</head>

<body class="bg-black text-slate-50 antialiased">

  <!-- Background Logo (fixed + parallax via JS) -->
  <div class="bg-logo-wrap" aria-hidden="true">
    <div class="bg-logo-glow" id="bgLogoGlow"></div>
    <img
      src="/public/bg-logo.png"
      alt=""
      class="bg-logo"
      id="bgLogo"
    />
  </div>

  <div class="site-layer">

    <!-- HEADER -->
    <header class="sticky top-0 z-50 border-b border-slate-800/80 bg-black/55 backdrop-blur-md">
      <div class="max-w-6xl mx-auto px-4 py-2 flex justify-between items-center">
        <!-- Brand -->
        <div class="flex items-center gap-3">
          <div class="relative w-12 h-12 flex items-center justify-center shrink-0">
            <img
              src="/public/bg-logo.png"
              alt="Žodis logo"
              class="w-12 h-12 object-contain"
            />
            <div class="absolute inset-0 bg-brand-primary/30 blur-lg -z-10 rounded-full"></div>
          </div>

          <!-- Optical alignment: nudge text slightly up -->
          <span class="font-semibold text-xl leading-none -translate-y-[1px]">
            Žodis
          </span>
        </div>

        <!-- Nav -->
        <nav class="hidden sm:flex gap-6 text-sm text-slate-300">
          <a href="#features" class="hover:text-brand-text">Features</a>
          <a href="#screens" class="hover:text-brand-text">Screenshots</a>
          <a href="#beta" class="hover:text-brand-text">Beta Access</a>
        </nav>
      </div>
    </header>

    <main>

      <!-- HERO -->
      <section class="px-6 py-14 max-w-6xl mx-auto text-center">
        <h1 class="text-3xl sm:text-4xl font-semibold tracking-tight">
          Say what you <span class="text-brand-primary">actually mean</span> in Lithuanian.
        </h1>

        <p class="mt-4 text-slate-300 text-sm sm:text-base max-w-2xl mx-auto">
          Žodis is a phrase-first translator for real life. Type what you want to say, choose tone and voice,
          and get a natural Lithuanian version you can <span class="text-slate-200">understand, pronounce, and reuse</span>.
        </p>

        <div class="mt-6 flex flex-col sm:flex-row gap-3 justify-center items-center">
          <a href="#beta" class="inline-block bg-brand-primary text-black font-semibold px-6 py-3 rounded-full shadow-xl hover:bg-brand-secondary text-sm">
            Request Beta Access
          </a>
          <p class="text-xs text-slate-500">
            Beta is intentionally small and personal . You’ll hear from me directly.
          </p>
        </div>

        <!-- HERO PHONE FRAME -->
        <div class="mt-12 flex justify-center">
          <div class="relative w-[75%] max-w-2xl group">

            <div class="absolute inset-0 -z-10 bg-gradient-to-b from-brand-primary/10 via-transparent to-brand-primary/5 blur-3xl"></div>
            <div class="absolute inset-0 rounded-[2rem] bg-brand-primary/20 blur-2xl opacity-40 animate-pulse-slow"></div>

            <div class="relative rounded-[2rem] bg-black border border-slate-800 shadow-2xl p-4 group-hover:brightness-75 transition duration-300">
              <div class="rounded-3xl overflow-y-scroll overflow-x-hidden border border-slate-800 phone-frame hide-scrollbar">
                <img src="/public/hero-translation.jpg" class="w-full h-auto parallax-layer" />
              </div>
            </div>

          </div>
        </div>

        <!-- Quick value bullets -->
        <div class="mt-10 max-w-4xl mx-auto grid sm:grid-cols-3 gap-4 text-left">
          <div class="rounded-2xl border border-slate-800 bg-black/40 p-5">
            <div class="text-sm font-semibold text-slate-100">Tailored, not templated</div>
            <p class="mt-2 text-sm text-slate-400 leading-relaxed">
              You’re not picking from a phrasebook. You’re translating <span class="text-slate-200">your</span> message,
              with tone options so it sounds like you.
            </p>
          </div>

          <div class="rounded-2xl border border-slate-800 bg-black/40 p-5">
            <div class="text-sm font-semibold text-slate-100">Hear it spoken</div>
            <p class="mt-2 text-sm text-slate-400 leading-relaxed">
              Native audio helps you catch rhythm and emphasis.
              Use slow playback when you’re learning.
            </p>
          </div>

          <div class="rounded-2xl border border-slate-800 bg-black/40 p-5">
            <div class="text-sm font-semibold text-slate-100">Build your own phrasebook</div>
            <p class="mt-2 text-sm text-slate-400 leading-relaxed">
              Save the useful ones, tag them, and find them later.
              Your library follows you across devices.
            </p>
          </div>
        </div>
      </section>

      <!-- FEATURES -->
      <section id="features" class="border-t border-slate-800 px-6 py-14 max-w-6xl mx-auto text-left">
        <h2 class="text-2xl font-semibold mb-2">What Žodis helps you do</h2>
        <p class="text-slate-400 text-sm mb-8 max-w-3xl">
          Most apps teach static phrases. Žodis is built for the moment you need to say something
          specific, at the shop, with family, at work, or when you’re just trying to be yourself in a new language.
        </p>

        <div class="grid md:grid-cols-2 gap-10 text-slate-300 text-sm leading-relaxed">

          <div class="space-y-3">
            <h3 class="text-lg font-semibold text-brand-primary">Translate “what I mean”, not “what the book says”</h3>
            <p>
              Type English (or Lithuanian) the way you’d actually speak.
              Žodis returns a Lithuanian version that aims for <span class="text-slate-200">natural intent</span>,
              plus a clearer meaning so you can learn from it.
            </p>
            <p class="text-slate-400">
              Helpful when you’re past beginner phrases but not fluent enough to freestyle.
            </p>
          </div>

          <div class="space-y-3">
            <h3 class="text-lg font-semibold text-brand-primary">Choose tone, voice, and context</h3>
            <p>
              Lithuanian can feel “correct” but still sound off.
              Tone choices nudge the phrasing toward how a more native dialogue.
            </p>
            <p class="text-slate-400">
              It’s the difference between being understood… and sounding like you belong.
            </p>
          </div>

          <div class="space-y-3">
            <h3 class="text-lg font-semibold text-brand-primary">Save the ones that matter</h3>
            <p>
              Every good translation can be saved into your library. Phrases, words, questions, numbers.
              So your learning grows from real conversations.
            </p>
            <p class="text-slate-400">
              Your library is searchable and syncs across devices.
            </p>
          </div>

          <div class="space-y-3">
            <h3 class="text-lg font-semibold text-brand-primary">Hear it. Repeat it. Get comfortable.</h3>
            <p>
              Audio is non-negotiable for pronunciation and confidence.
              Play it normally, slow it down, and build muscle memory.
            </p>
            <p class="text-slate-400">
              Ideal for partners of Lithuanians, expats, and anyone learning “real” Lithuanian.
            </p>
          </div>

        </div>

        <!-- Beta note -->
        <div class="mt-10 rounded-2xl border border-slate-800 bg-black/40 p-6">
          <h3 class="text-base font-semibold text-slate-100">A quick beta note</h3>
          <p class="mt-2 text-sm text-slate-400 leading-relaxed">
            This is a small, hands-on beta. I’m deliberately controlling access so I can respond to feedback quickly
            and keep the experience stable while I tune things like UI comfort and real-world phrasing.
          </p>
        </div>
      </section>

      <!-- SCREENSHOTS -->
      <section id="screens" class="border-t border-slate-800 px-6 py-12 max-w-6xl mx-auto">
        <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 mb-6">
          <h2 class="text-xl font-semibold">App Screenshots</h2>
          <p class="text-sm text-slate-400 max-w-2xl">
            These are real screens from the current beta build — designed for fast, on-the-fly use.
          </p>
        </div>

        <div class="grid sm:grid-cols-3 gap-6">

          <div class="border border-slate-800 rounded-2xl overflow-hidden bg-black phone-frame hide-scrollbar overflow-y-scroll">
            <img src="/public/screen-home.jpg" class="w-full h-auto" alt="Žodis home screen" />
          </div>

          <div class="border border-slate-800 rounded-2xl overflow-hidden bg-black phone-frame hide-scrollbar overflow-y-scroll">
            <img src="/public/screen-library.jpg" class="w-full h-auto" alt="Žodis library screen" />
          </div>

          <div class="border border-slate-800 rounded-2xl overflow-hidden bg-black phone-frame hide-scrollbar overflow-y-scroll">
            <img src="/public/screen-settings.jpg" class="w-full h-auto" alt="Žodis settings screen" />
          </div>

        </div>

        <p class="text-xs text-slate-500 mt-6">
          Tip: try it on mobile. The scrolling previews mirror the feel of the app.
        </p>
      </section>

      <!-- BETA ACCESS -->
      <section id="beta" class="border-t border-slate-800 px-6 py-12 max-w-4xl mx-auto text-center">
        <h2 class="text-2xl font-semibold mb-3">Request Beta Access</h2>

        <p class="text-slate-400 text-sm mb-6 max-w-2xl mx-auto">
          Join the list and I’ll onboard you personally. If you add a short note (device + what you want to use Žodis for),
          I can prioritise the most useful feedback first.
        </p>

        <div class="bg-black/60 p-6 rounded-xl border border-slate-800 max-w-xl mx-auto">

          <form id="betaForm" class="text-left space-y-4" novalidate>
            <label class="block">
              <span class="text-sm text-slate-300">Email <span class="text-red-400">*</span></span>
              <input
                id="email"
                name="email"
                type="email"
                autocomplete="email"
                required
                placeholder="you@example.com"
                class="mt-2 w-full rounded-lg bg-black border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-brand-primary/60 focus:border-brand-primary"
              />
            </label>

            <button
              type="button"
              id="toggleNote"
              class="text-sm text-slate-300 hover:text-brand-text underline underline-offset-4"
              aria-expanded="false"
            >
              Add a short note (optional)
            </button>

            <div id="noteWrap" class="hidden">
              <label class="block">
                <span class="text-sm text-slate-300">Note</span>
                <textarea
                  id="note"
                  name="note"
                  rows="3"
                  placeholder="Device (Android/iOS), experience level, and what you’ll use Žodis for…"
                  class="mt-2 w-full rounded-lg bg-black border border-slate-700 px-4 py-3 text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-brand-primary/60 focus:border-brand-primary resize-none"
                ></textarea>
              </label>
            </div>

            <div class="flex items-center gap-3 pt-2">
              <button
                id="submitBtn"
                type="submit"
                class="inline-flex justify-center items-center bg-brand-primary text-black font-semibold px-6 py-3 rounded-full shadow-xl hover:bg-brand-secondary text-sm disabled:opacity-60 disabled:cursor-not-allowed"
              >
                Request access
              </button>

              <span id="spinner" class="hidden text-sm text-slate-400">Submitting…</span>
            </div>

            <div id="msg" class="hidden mt-4 rounded-lg border px-4 py-3 text-sm"></div>

            <p class="text-xs text-slate-500 pt-2 leading-relaxed">
              You’ll be added to the beta list with <span class="text-slate-300">pending</span> status until I open a slot.
              I’m doing it this way to keep the beta stable and genuinely responsive.
            </p>
          </form>

        </div>

        <p class="text-xs text-slate-600 mt-6">
          Privacy: I only use your email for beta access and direct communication. No mailing list spam.
        </p>
      </section>

    </main>

    <!-- FOOTER -->
    <footer class="border-t border-slate-800 px-6 py-6 text-xs text-slate-500 text-center max-w-5xl mx-auto">
      © 2026 Žodis — Created, with love, by David Lang.
    </footer>

  </div>

  <script>
    // -----------------------------
    // Parallax motion (hero image)
    // -----------------------------
    window.addEventListener('scroll', () => {
      document.querySelectorAll('.parallax-layer').forEach(el => {
        el.style.transform = `translateY(${window.scrollY * 0.05}px)`;
      });
    });

    // ---------------------------------------
    // Background Logo Parallax (slow / far away)
    // ---------------------------------------
    const bgLogo = document.getElementById("bgLogo");
    const bgLogoGlow = document.getElementById("bgLogoGlow");
    const BG_PARALLAX_SPEED = 0.015;

    function updateBgParallax() {
      const y = window.scrollY * BG_PARALLAX_SPEED;
      const baseOffset = 0;

      if (bgLogo) {
        bgLogo.style.transform = `translate(-50%, calc(-50% + ${baseOffset + y}px))`;
      }
      if (bgLogoGlow) {
        bgLogoGlow.style.transform = `translate(-50%, calc(-50% + ${baseOffset + y}px))`;
      }
    }

    window.addEventListener("scroll", updateBgParallax, { passive: true });
    updateBgParallax();

    // -----------------------------
    // Supabase (REST) Beta Signup
    // -----------------------------
    const SUPABASE_URL = "https://gnbnicrxlioamzcxqjqk.supabase.co";
    const SUPABASE_PUBLISHABLE_KEY = "sb_publishable_lmgd2J37R2xSg2HeC5Yzhw_R_AHXbIF";

    const form = document.getElementById("betaForm");
    const emailEl = document.getElementById("email");
    const noteEl = document.getElementById("note");
    const msgEl = document.getElementById("msg");
    const submitBtn = document.getElementById("submitBtn");
    const spinner = document.getElementById("spinner");

    const toggleNote = document.getElementById("toggleNote");
    const noteWrap = document.getElementById("noteWrap");

    function showMessage(kind, text) {
      msgEl.classList.remove("hidden");
      msgEl.className = "mt-4 rounded-lg border px-4 py-3 text-sm";
      if (kind === "success") {
        msgEl.classList.add("border-green-600/40", "bg-green-500/10", "text-green-200");
      } else if (kind === "warning") {
        msgEl.classList.add("border-yellow-600/40", "bg-yellow-500/10", "text-yellow-200");
      } else {
        msgEl.classList.add("border-red-600/40", "bg-red-500/10", "text-red-200");
      }
      msgEl.textContent = text;
    }

    function setLoading(isLoading) {
      submitBtn.disabled = isLoading;
      spinner.classList.toggle("hidden", !isLoading);
    }

    toggleNote.addEventListener("click", () => {
      const isOpen = !noteWrap.classList.contains("hidden");
      noteWrap.classList.toggle("hidden", isOpen);
      toggleNote.setAttribute("aria-expanded", String(!isOpen));
      toggleNote.textContent = !isOpen ? "Hide note" : "Add a short note (optional)";
      if (!isOpen) setTimeout(() => noteEl.focus(), 50);
    });

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      msgEl.classList.add("hidden");

      const email = (emailEl.value || "").trim().toLowerCase();
      const note = (noteEl.value || "").trim();

      if (!email) {
        showMessage("error", "Please enter your email.");
        emailEl.focus();
        return;
      }
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showMessage("error", "That email doesn’t look valid. Please check it.");
        emailEl.focus();
        return;
      }

      setLoading(true);

      try {
        const payload = {
          email,
          note: note || null,
          source: "zodis.app",
          status: "pending"
        };

        const res = await fetch(`${SUPABASE_URL}/rest/v1/beta_requests`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "apikey": SUPABASE_PUBLISHABLE_KEY,
            "Authorization": `Bearer ${SUPABASE_PUBLISHABLE_KEY}`,
            "Prefer": "return=minimal"
          },
          body: JSON.stringify(payload)
        });

        if (res.ok) {
          showMessage("success", "Thanks — you’re on the list. I’ll reach out personally when your beta slot is ready.");
          form.reset();
          noteWrap.classList.add("hidden");
          toggleNote.setAttribute("aria-expanded", "false");
          toggleNote.textContent = "Add a short note (optional)";
          return;
        }

        let errText = "";
        try {
          const j = await res.json();
          errText = (j && (j.message || j.details || j.hint || j.error)) ? String(j.message || j.details || j.hint || j.error) : "";
        } catch (_) {}

        const lower = (errText || "").toLowerCase();
        if (res.status === 409 || lower.includes("duplicate") || lower.includes("unique") || lower.includes("already")) {
          showMessage("warning", "You’re already on the list with that email. If you want to update your note, message me and I’ll sort it.");
          return;
        }

        showMessage("error", "Something went wrong submitting your request. Please try again in a moment.");
        console.error("Beta submit failed:", res.status, errText);

      } catch (err) {
        console.error(err);
        showMessage("error", "Network issue while submitting. Please check your connection and try again.");
      } finally {
        setLoading(false);
      }
    });
  </script>

</body>
</html>
